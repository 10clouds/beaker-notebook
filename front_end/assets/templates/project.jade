.project-detail.col-half.col-expanded-lrg-display
  .col-three-quarters
    h1.error(ng-if="error") {{error}}
    h1.project-name
      b(ng-hide="editMode") {{project.name}}
      input(name="name", ng-model="project.name", ng-show="editMode")

  .col-quarter
    a.btn.edit-project(ng-click="editProject()" ng-hide="editMode") edit
    a.btn.update-project(ng-click="updateProject()" ng-show="editMode") save
    a.btn.delete-project(ng-click="deleteProject()") delete
  .cl

  h2
    b Project Stats
  .last-updated Last updated: {{project.lastUpdatedAt | date: 'short'}}
  .last-executed Last executed: {{project.lastExecuted || "N/A" | date: 'short'}}
  .commits Commits: {{project.numCommits}}

  .cl
  br

  h3 Notebooks
  ul.notebook-list
    li(ng-if="notebooks.length === 0") no notebooks yet.
    li.single-notebook(ng-repeat="notebook in project.notebooks")
      .col-quarter
        b {{notebook.name}}
      ul.col-quarter
        li.btn.open(ui-sref="projects.items.item.notebook({id: project.id, notebook_id: notebook.id})") Open
        li.btn(notebook-move project-id="project.id" notebook="notebook" projects="projects.list" on-move="loadProject()" on-error="alreadyExistsError(notebook, project)") Move
      .col-half
        .updated Updated at: {{notebook.updated_at | date: 'short'}}
        .commits Commits: {{notebook.numCommits}}
      .cl
  ul.import-notebooks
    li
      a.btn.new-notebook(ng-click="createNotebook()") New Notebook
    li(ng-hide="importMode")
      a.import.btn(ng-click="importNotebooks()") Import
    li(ng-show="importMode")
      input(type="file" ng-file-select="onFileSelect($files)" multiple)

.col-quarter.col-expanded-lrg-display
  h2
    b About this project
  p(ng-hide="editMode").project-description {{project.description}}
  textarea(name="description", ng-model="project.description" ng-show="editMode")

.cl
