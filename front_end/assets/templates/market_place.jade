.col-three-quarters
  .category-hero(ng-if='marketPlace.currentCategory.description')
    .category.col-three-quarters
      h2
        b {{marketPlace.currentCategory.name}}
      p {{marketPlace.currentCategory.description}}
    .col-quarter(ng-hide="!marketPlace.currentCategory || marketPlace.currentCategory.name == 'All'")
      .category-attributes
        .category-attributes-label Total Sets
        .category-attributes-label-value.total-sets {{marketPlace.currentCategory.count}}
        .category-attributes-label Last Updated:
        .category-attributes-label-value {{marketPlace.currentCategory.updated_at | date: 'short'}}
        .category-attributes-label Owner:
        .category-attributes-label-value {{marketPlace.currentCategory.ownerName}}
        .category-attributes-label Contact:
        .category-attributes-label-value
          a(href="mailto:{{marketPlace.currentCategory.ownerEmail}}") {{marketPlace.currentCategory.ownerEmail}}
    .cl

  h2.total-result-count-header
    span.total-result-count
      {{marketPlace.totalItems}}
    | &nbsp;results
  .filter-market-results
    .filter-header.filter-col
      .filter-segment-label filters
    .filter-segment.filter-col
      .filter-segment-label.filter-formats
        | format
        img(src="images/down-arrow-filter.png", width="6", height="4")

        multi-filter(ng-model="marketPlace.typeScope", iterator="format in formats", iterator-name="format")

    .filter-segment.filter-col.filter-vendors
      .filter-segment-label
        | vendor
        img(src="images/down-arrow-filter.png", width="6", height="4")

        multi-filter(ng-model="marketPlace.vendorScope", iterator="vendor in marketPlace.vendors", iterator-name="vendor", iterator-display-name="vendor.name")

    .filter-segment.filter-col
      .filter-segment-label.filter-tags
        | tags
        img(src="images/down-arrow-filter.png", width="6", height="4")

        multi-filter(ng-model="marketPlace.tagScope", iterator="tag in marketPlace.relatedTags", iterator-name="tag", iterator-display-name="tag.name")

    .filter-segment.filter-search.filter-col
      input.search-full.market-text-search(type="text", ng-model="marketPlace.searchScope", placeholder="Search within results")

  ul.current-filters
    li.tag.filter(ng-repeat="filter in currentFilters", ng-click="removeFilter(filter.value, filter.model)") {{filter.name}}

  ul.market-list
    li.market-list-item.base-row-item-green(ng-repeat="item in marketPlace.data")
      p
        .col-three-quarters
          h2
            a.title(ui-sref="marketPlace.items.item({id: item.id})") {{item.title}}
          p.description {{item.description | limitTo:100}} {{item.description.length > 100 ? "..." : ""}}
          .vendor
            | Vendor:&nbsp;
            span.vendors {{vendorName(item)}}
        .col-quarter.vendor-attributes
          ul.vendor-item-list-attributes
            li.format
              span.small-label Format:&nbsp
              span.vendor-item-list-value.formats {{item.format}}
            li.last-updated
              span.small-label Updated:&nbsp
              span.vendor-item-list-value {{item.lastUpdated | date: 'dd/MM/yyyy'}}
        .cl

  .pagination-contain
    pagination(page="marketPlace.currentPage" max-size="marketPlace.maxSize" items-per-page="marketPlace.itemsPerPage" total-items="marketPlace.totalItems")

.cl
