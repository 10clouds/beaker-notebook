{
  "app": {
    "command": "--migrate --delay=20",
    "links": [
      "db",
      "provisioner",
      "elasticsearch"
    ],
    "ports": "2999:3000",
    "environment": [
      "NODE_ENV=test"
    ]
  },
  "web": {
    "ports": "8079:7777",
    "build": "front_end",
    "command": "--coverage"
  },
  "db": {
    "ports": "5431:5432",
    "build": "postgres",
    "command": "-c -f --database=bunsenTest -r"
  },
  "beaker": {
    "ports": "8801"
  },
  "provisioner": {
    "ports": "3002:3001",
    "volumes": [
      "/var/run/docker.sock:/var/run/docker.sock"
    ],
    "environment": [
      "NODE_ENV=test"
    ],
    "command": "beaker ci.beaker"
  },
  "gateway": {
    "ports": "7778:80",
    "command": "ci.beaker gateway:7778",
    "links": [
      "app",
      "web"
    ],
    "volumes": [
      "/dev/log:/dev/log",
      "/var/run/docker.sock:/var/run/docker.sock"
    ]
  },
  "elasticsearch": {
    "ports": "9201:9200"
  },
  "tests": {
    "ports": "5900:5900",
    "environment": [
      "BUNSEN_HOSTNAME=gateway"
    ],
    "links": [
      "gateway"
    ],
    "volumes": [
      "/var/lib/jenkins/workspace/bunsen/coverage:/var/app/test/coverage"
    ]
  }
}
