{
  "app": {
    "command": "--migrate --watch --delay=20",
    "links": [
      "db",
      "provisioner",
      "elasticsearch"
    ],
    "ports": "2999:3000",
    "volumes": [
      "/vagrant/app:/var/app"
    ],
    "environment": [
      "NODE_ENV=test"
    ]
  },
  "web": {
    "command": "--test --watch",
    "ports": "8079:8080",
    "build": "front_end",
    "volumes": [
      "/vagrant/front_end:/var/www"
    ]
  },
  "db": {
    "ports": "5431:5432",
    "build": "postgres",
    "volumes": [
      "/var/bunsen_test_db:/var/lib/postgresql/9.3/main",
      "/vagrant/postgres:/var/postgres"
    ],
    "command": "-c -f --database=bunsenTest"
  },
  "beaker": {

    "ports": "8801"
  },
  "provisioner": {
    "ports": "3002:3001",
    "volumes": [
      "/var/run/docker.sock:/var/run/docker.sock",
      "/vagrant/provisioner:/opt/provisioner"
    ],
    "environment": [
      "NODE_ENV=test"
    ],
    "command": "beaker test.beaker"
  },
  "gateway": {
    "ports": "7778:80",
    "command": "test.beaker localhost:7778",
    "links": [
      "app",
      "web"
    ],
    "volumes": [
      "/dev/log:/dev/log",
      "/var/run/docker.sock:/var/run/docker.sock",
      "/vagrant/gateway:/opt/gateway"
    ]
  },
  "elasticsearch": {
    "ports": "9201:9200",
    "volumes": [
      "/var/elasticsearch/data"
    ]
  }
}
